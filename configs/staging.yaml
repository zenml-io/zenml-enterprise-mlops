# Staging Environment Configuration
# Run with: zenml pipeline run src.pipelines.training.training_pipeline --config configs/staging.yaml

# Run name uses placeholders that ZenML will replace at runtime
run_name: "{run_name_prefix}_staging_{date}_{time}"

# Cache disabled in staging for fresh runs
enable_cache: false

# Pipeline parameters (maps to training_pipeline() arguments)
parameters:
  test_size: 0.2
  n_estimators: 50           # Smaller for faster iteration
  max_depth: 5               # Shallower trees
  min_accuracy: 0.70         # Lower threshold for experimentation
  enable_resampling: true    # Enable SMOTE for imbalanced data
  imbalance_threshold: 0.3
  enable_pca: false
  max_features_for_pca: 50
  pca_components: 30

# Tags for staging runs (merged with project_config.yaml tags)
tags:
  - "staging"
  - "pre-release"

# Docker and resource settings
settings:
  docker:
    parent_image: python:3.11-slim
    python_package_installer: uv
    required_integrations:
      - mlflow
      - sklearn
    apt_packages:
      - git
      - curl
      - ca-certificates
  resources:
    cpu_count: 2
    memory: 4GB
