# Local Development Configuration
# Run with: python run.py --environment local
# Or: zenml pipeline run src.pipelines.training.training_pipeline --config configs/local.yaml

# Run name uses placeholders that ZenML will replace at runtime
run_name: "training_local_{date}_{time}"

# Cache enabled in local for faster iteration
# Note: train_model and evaluate_model have enable_cache=False at step level
enable_cache: true

# Pipeline parameters (maps to training_pipeline() arguments)
parameters:
  test_size: 0.2
  n_estimators: 70           # Smaller for faster iteration
  max_depth: 5               # Shallower trees
  min_accuracy: 0.70         # Lower threshold for development
  enable_resampling: false   # Disable SMOTE for speed
  imbalance_threshold: 0.3
  enable_pca: false
  max_features_for_pca: 50
  pca_components: 30

# Tags for local runs
tags:
  - "local"
  - "development"

# Docker and resource settings
# Using default ZenML images (have ZenML pre-installed)
settings:
  docker:
    # No parent_image = use default ZenML image (has ZenML pre-installed)
    python_package_installer: uv
    required_integrations:
      - sklearn
  orchestrator:
    synchronous: false  # Don't block - run in background on Vertex AI
  resources:
    cpu_count: 2
    memory: 4GB